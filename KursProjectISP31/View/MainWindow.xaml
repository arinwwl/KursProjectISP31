<Window x:Class="KursProjectISP31.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:KursProjectISP31"
        xmlns:vm="clr-namespace:KursProjectISP31.ViewModel"
        xmlns:Menu="clr-namespace:KursProjectISP31.Utills"
        xmlns:view="clr-namespace:KursProjectISP31.View"
        mc:Ignorable="d"
        Title="Магазин" Height="500" Width="900"
        AllowsTransparency="True"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        Background="Transparent">

    <!-- DataContext -->
    <Window.DataContext>
        <vm:NavigationViewModel/>
    </Window.DataContext>

    <!-- Resources -->
    <Window.Resources>
        <!-- Шаблон для ClientsViewModel -->
        <DataTemplate DataType="{x:Type vm:ClientsViewModel}">
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Клиенты" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>

                <DataGrid Grid.Row="1"
                          ItemsSource="{Binding Clients}"
                          AutoGenerateColumns="False"
                          IsReadOnly="True"
                          CanUserAddRows="False"
                          SelectionMode="Single">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID клиента" Binding="{Binding ClientID}" Width="80"/>
                        <DataGridTextColumn Header="Полное имя" Binding="{Binding FullName}" Width="200"/>
                        <DataGridTextColumn Header="Пол" Binding="{Binding Gender}" Width="80"/>
                        <DataGridTextColumn Header="Дата рождения" 
                                            Binding="{Binding BirthDate, StringFormat={}{0:dd.MM.yyyy}}" 
                                            Width="100"/>
                        <DataGridTextColumn Header="Адрес" Binding="{Binding Address}" Width="250"/>
                        <DataGridTextColumn Header="Телефон" Binding="{Binding Phone}" Width="120"/>
                        <DataGridTextColumn Header="Паспортные данные" Binding="{Binding PassportData}" Width="150"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </DataTemplate>

        <DataTemplate DataType="{x:Type vm:EmployeesViewModel}">
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Сотрудники" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>

                <DataGrid Grid.Row="1"
                  ItemsSource="{Binding Employees}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  CanUserAddRows="False"
                  SelectionMode="Single">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID сотрудника" Binding="{Binding EmployeeID}" Width="100"/>
                        <DataGridTextColumn Header="Полное имя" Binding="{Binding FullName}" Width="200"/>
                        <DataGridTextColumn Header="Возраст" Binding="{Binding Age}" Width="70"/>
                        <DataGridTextColumn Header="Пол" Binding="{Binding Gender}" Width="80"/>
                        <DataGridTextColumn Header="Адрес" Binding="{Binding Address}" Width="250"/>
                        <DataGridTextColumn Header="Телефон" Binding="{Binding Phone}" Width="120"/>
                        <DataGridTextColumn Header="Паспортные данные" Binding="{Binding PassportData}" Width="150"/>
                        <DataGridTextColumn Header="ID должности" Binding="{Binding PositionID}" Width="100"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </DataTemplate>

        <DataTemplate DataType="{x:Type vm:CarsViewModel}">
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Автомобили" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>

                <DataGrid Grid.Row="1"
                  ItemsSource="{Binding Cars}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  CanUserAddRows="False"
                  SelectionMode="Single">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID автомобиля" Binding="{Binding CarID}" Width="100"/>
                        <DataGridTextColumn Header="ID бренда" Binding="{Binding BrandID}" Width="90"/>
                        <DataGridTextColumn Header="Рег. номер" Binding="{Binding RegistrationNumber}" Width="100"/>
                        <DataGridTextColumn Header="Номер двигателя" Binding="{Binding EngineNumber}" Width="120"/>
                        <DataGridTextColumn Header="VIN" Binding="{Binding VIN}" Width="140"/>
                        <DataGridTextColumn Header="Год выпуска" Binding="{Binding ManufactureYear}" Width="90"/>
                        <DataGridTextColumn Header="Пробег" Binding="{Binding Mileage}" Width="100"/>
                        <DataGridTextColumn Header="Цена авто" Binding="{Binding CarPrice, StringFormat={}{0:C}}" Width="100"/>
                        <DataGridTextColumn Header="Стоимость аренды/день" Binding="{Binding DailyRentalPrice, StringFormat={}{0:C}}" Width="140"/>
                        <DataGridTextColumn Header="Дата последней инспекции" 
                                    Binding="{Binding LastInspectionDate, StringFormat={}{0:dd.MM.yyyy}}" 
                                    Width="130"/>
                        <DataGridTextColumn Header="ID сотрудника" Binding="{Binding EmployeeID}" Width="100"/>
                        <DataGridTextColumn Header="Примечания" Binding="{Binding SpecialNotes}" Width="200"/>
                        <DataGridCheckBoxColumn Header="Возвращён" Binding="{Binding IsReturned}" Width="80"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </DataTemplate>

        <DataTemplate DataType="{x:Type vm:CarBrandsViewModel}">
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Бренды автомобилей" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>

                <DataGrid Grid.Row="1"
                  ItemsSource="{Binding Brands}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  CanUserAddRows="False"
                  SelectionMode="Single">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID бренда" Binding="{Binding BrandID}" Width="90"/>
                        <DataGridTextColumn Header="Название бренда" Binding="{Binding BrandName}" Width="180"/>
                        <DataGridTextColumn Header="Технические характеристики" 
                                    Binding="{Binding TechnicalSpecs}" 
                                    Width="250"/>
                        <DataGridTextColumn Header="Описание" 
                                    Binding="{Binding Description}" 
                                    Width="300"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </DataTemplate>

        <DataTemplate DataType="{x:Type vm:RentalsViewModel}">
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Аренды" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>

                <DataGrid Grid.Row="1"
                  ItemsSource="{Binding Rentals}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  CanUserAddRows="False"
                  SelectionMode="Single">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID аренды" Binding="{Binding RentalID}" Width="90"/>
                        <DataGridTextColumn Header="Дата выдачи" 
                                    Binding="{Binding IssueDate, StringFormat={}{0:dd.MM.yyyy}}" 
                                    Width="100"/>
                        <DataGridTextColumn Header="Срок (дней)" Binding="{Binding RentalPeriod}" Width="90"/>
                        <DataGridTextColumn Header="Дата возврата" 
                                    Binding="{Binding ReturnDate, StringFormat={}{0:dd.MM.yyyy}}" 
                                    Width="100"/>
                        <DataGridTextColumn Header="ID авто" Binding="{Binding CarID}" Width="80"/>
                        <DataGridTextColumn Header="ID клиента" Binding="{Binding ClientID}" Width="100"/>
                        <DataGridTextColumn Header="Услуги" Binding="{Binding Services}" Width="200"/>
                        <DataGridTextColumn Header="Стоимость" 
                                    Binding="{Binding RentalPrice, StringFormat={}{0:C}}" 
                                    Width="100"/>
                        <DataGridCheckBoxColumn Header="Оплачено" Binding="{Binding IsPaid}" Width="80"/>
                        <DataGridTextColumn Header="ID сотрудника" Binding="{Binding EmployeeID}" Width="100"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </DataTemplate>

    </Window.Resources>

    <!-- Основной макет -->
    <Grid>
        <Border Background="#212529" CornerRadius="20" />

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="228" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- Navigation Panel -->
            <Grid Grid.Column="0" HorizontalAlignment="Left" Width="228">
                <Border Background="#272B2F" CornerRadius="20,0,0,20" />

                <StackPanel Height="400" Width="228">
                    <!-- Home Button -->
                    <Menu:Btn Style="{StaticResource BtnStyle}"
                             Command="{Binding HomeCommand}"
                             IsChecked="True">
                        <Grid>
                            <Image Source="/Assets/img_home.png" 
                                   Style="{StaticResource Image_Style}" />
                            <TextBlock Text="Домой" 
                                       Style="{StaticResource Text_Style}" />
                        </Grid>
                    </Menu:Btn>

                    <Menu:Btn Style="{StaticResource BtnStyle}"
                              Command="{Binding ClientsCommand}">
                        <Grid>
                            <Image Source="/Assets/img_customer.png" 
                                   Style="{StaticResource Image_Style}" />
                            <TextBlock Text="Клиенты" 
                                       Style="{StaticResource Text_Style}" />
                        </Grid>
                    </Menu:Btn>

                    <!-- Employees Button -->
                    <Menu:Btn Style="{StaticResource BtnStyle}"
                              Command="{Binding EmployeesCommand}">
                        <Grid>
                            <Image Source="/Assets/employee.png" 
                                   Style="{StaticResource Image_Style}" />
                            <TextBlock Text="Сотрудники" 
                                       Style="{StaticResource Text_Style}" />
                        </Grid>
                    </Menu:Btn>

                    <!-- Cars Button -->
                    <Menu:Btn Style="{StaticResource BtnStyle}"
                              Command="{Binding CarsCommand}">
                        <Grid>
                            <Image Source="/Assets/car.png" 
                                   Style="{StaticResource Image_Style}" />
                            <TextBlock Text="Автомобили" 
                                       Style="{StaticResource Text_Style}" />
                        </Grid>
                    </Menu:Btn>

                    <!-- CarBrands Button -->
                    <Menu:Btn Style="{StaticResource BtnStyle}"
                              Command="{Binding CarBrandsCommand}">
                        <Grid>
                            <Image Source="/Assets/brands.png" 
                                   Style="{StaticResource Image_Style}" />
                            <TextBlock Text="Бренды" 
                                       Style="{StaticResource Text_Style}" />
                        </Grid>
                    </Menu:Btn>

                    <!-- Rentals Button -->
                    <Menu:Btn Style="{StaticResource BtnStyle}"
                              Command="{Binding RentalsCommand}">
                        <Grid>
                            <Image Source="/Assets/img_order.png" 
                                   Style="{StaticResource Image_Style}" />
                            <TextBlock Text="Аренды" 
                                       Style="{StaticResource Text_Style}" />
                        </Grid>
                    </Menu:Btn>
                </StackPanel>
            </Grid>

            <!-- Content Area -->
            <Grid Grid.Column="1">
                <ContentControl x:Name="Pages" Content="{Binding CurrentView}" />
            </Grid>
        </Grid>
    </Grid>
</Window>